<ion-view title="{{'title_settings' | translate}}">
  <ion-pane>
    <ion-content padding="true" class="has-header">
      <form>
        <ion-toggle id="disconnected_switch" ng-model="b_disconnected" ng-change="changeDisconnected()"
                    toggle-class="toggle-positive">Disconnected Mode</ion-toggle>

        <button class="button button-positive button-block" ng-click="updateSyncDatabase()">{{button_update_database_str}}</button>

        <label class="item item-input item-select">
          <span class="input-label">{{'settings_language' | translate}}</span>
          <select ng-init="current_language == current_language || language_options[0]" ng-change="switchLanguage()"
                  ng-model="current_language"
                  ng-options="option.name | translate for option in language_options">
          </select>
        </label>
        <div>
          <label class="item item-input">
            <span class="input-label">{{'settings_server_ip' | translate}}:</span>
            <input type="text" placeholder="" ng-model-options='{debounce: 1500}' ng-change="saveServerIP(networkAddr)" ng-model="networkAddr"
                   autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
          </label>
        </div>
        <br>
        <div class="text-center">
          <b>Logged in as:</b>
          <p ng-if="loginAttempt <= 0">{{networkService.getUsernamePassword().username || "Not Logged In"}}</p>
          <p ng-if="loginAttempt > 0">{{'attempting_login' | translate}}</p>
        </div>
        &nbsp;
        <!--<button class="button button-positive button-block" ng-click="logout('/login')">{{'button_logout' | translate}}</button>-->
        <div>
          <ion-list>
            <label class="item item-input">
              <span class="input-label">{{'login_username' | translate}}</span>
              <input type="text" placeholder="" ng-model="credentials.username"
                     autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
            </label>
            <label class="item item-input">
              <span class="input-label">{{'login_password' | translate}}</span>
              <input type="password" placeholder="" ng-model="credentials.password"
                     autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
            </label>
          </ion-list>
          <button class="button button-positive button-block" ng-click="login()">{{'button_login' | translate}}</button>
        </div>
      </form>
    </ion-content>
  </ion-pane>
</ion-view>